<div class="popup-static portlet box portlet-fullscreen">
    <div class="portlet-body form">
        <div class="col-md-8 col-md-offset-2">
            <div class="modelbox-div">
                <div class="modelbox-body" style="display: flex;justify-content: center;">
                    <div class="wrapper">
                        <div style="border:1px dotted;padding: 10px;">
                            <div id="dvClaimDetailPrintPage" class="printpage">
                                <table style="width: 100%;">
                                    <!-- <thead>
                    <tr>
                      <td>
                        <div class="flx" [ngClass]="'ipd-invoice-header-gap-' + hospitalCode"></div>
                      </td>
                    </tr>
                  </thead> -->
                                    <tbody>
                                        <tr>
                                            <td>
                                                <customer-header></customer-header>
                                                <div class="discharge-bill-sm-holder">
                                                    <div class="discharge-bill-sm-header flx justify-center text-uppercase">
                                                        <span>
                              <span>
                                <b>
                                  Insurance Bill Summary
                                </b>
                              </span>
                                                        </span>
                                                    </div>
                                                    <div class="flx flex-col discharge-bill-description-header" style="margin-bottom: 10px; border-bottom: 1px solid;">
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2">
                                                            </div>
                                                            <div class="col-right"><span class="text-uppercase text-bold txt-label"> Printed
                                  by:&nbsp;&nbsp;</span><span class="text-bold txt-val">{{printedBy}}</span>
                                                            </div>
                                                        </div>
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2">
                                                            </div>
                                                            <div class="col-right"><span class="text-uppercase text-bold txt-label">Printed
                                  on:&nbsp;&nbsp;</span><span class="text-bold txt-val">{{printedOn}}({{printedOn |
                                  nepaliDate:'format':'YYYY-MM-DD'}} BS)</span>
                                                            </div>
                                                        </div>
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2"><span class="text-uppercase text-bold txt-label">Claim
                                  Code&nbsp;:&nbsp;</span><span class="text-bold txt-val">{{selectedClaimCode}}</span>
                                                            </div>
                                                            <div class="col-right"><span class="text-uppercase text-bold txt-label"> NSHI
                                  No.&nbsp;:&nbsp;</span><span class="text-bold txt-val">{{selPatient.Ins_NshiNumber}}</span>
                                                            </div>
                                                        </div>
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2"><span class="text-uppercase text-bold txt-label">Patient's
                                  Name&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">{{selPatient.ShortName}}</span>
                                                            </div>
                                                            <div class="col-right"><span class="text-uppercase text-bold txt-label">
                                  Address&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">
                                  {{selPatient.Address}}
                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2"><span class="text-uppercase text-bold txt-label">Hospital
                                  No&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">{{selPatient.PatientCode}}</span>
                                                            </div>
                                                            <div class="col-right">
                                                                <span class="text-uppercase text-bold txt-label">
                                  Contact No&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">
                                  {{selPatient.PhoneNumber}}
                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2">
                                                                <span class="text-uppercase text-bold txt-label">Age/Sex&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">{{selPatient.Age}}/{{selPatient.Gender}}
                                </span>
                                                            </div>
                                                            <div class="col-right">
                                                                <span class="text-uppercase text-bold txt-label">Payment Mode&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">CREDIT</span>
                                                            </div>
                                                        </div>
                                                        <div class="discharge-bill-sm-row flx justify-sp-between">
                                                            <div class="col-left flex-2" *ngIf="admissionDate"><span class="text-uppercase text-bold txt-label">Admission
                                  Date&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val">{{admissionDate| DanpheDateTime:'format':'YYYY-MM-DD'}}
                                  ({{admissionDate | nepaliDate:'format':'YYYY-MM-DD'}} BS)</span>
                                                            </div>
                                                            <div class="col-right" *ngIf="dischargeDate">
                                                                <span class="text-uppercase text-bold txt-label">Discharge Date&nbsp;:&nbsp;</span>
                                                                <span class="text-bold txt-val"> {{dischargeDate |
                                  DanpheDateTime:'format':'YYYY-MM-DD'}}
                                  ({{dischargeDate | nepaliDate:'format':'YYYY-MM-DD'}} BS)
                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="wrapper" style="border-bottom: 1px solid" *ngIf="isBillListAvailable">
                                                        <span class="text-uppercase text-bold txt-label">Test and services&nbsp;:&nbsp;</span>
                                                        <table class="table table-striped table-hover" style="width: 100%;">
                                                            <thead>
                                                                <tr>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>S.N.</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Invoice No.</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Department</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Particulars</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Sales Quantity</strong>
                                                                    </th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Sales Amount</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Return Amount</strong>
                                                                    </th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Net Amount</strong></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let row of testandServicesList; let i=index;">
                                                                    <td style="text-align:left; font-size:11px;">{{i+1}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.InvoiceNo}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.ServiceDepartmentName}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.ItemName}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.Sales_Quantity}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.Sales_TotalAmount}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.Ret_TotalAmount}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.Net_TotalAmount}}</td>
                                                                </tr>
                                                                <tr>
                                                                    <td style="text-align:left; font-size:11px;"></td>
                                                                    <td style="text-align:left; font-size:11px;"></td>
                                                                    <td style="text-align:right; font-size:11px;"></td>
                                                                    <td style="text-align:right; font-size:11px;"></td>
                                                                    <td style="text-align:left; font-size:11px;"><span class="text-uppercase text-bold txt-label">Billing Total</span></td>
                                                                    <td style="text-align:left; font-size:11px;">{{billTotal[0].Sales_TotalAmount | Currency:'4'}}
                                                                    </td>
                                                                    <td style="text-align:left; font-size:11px;">{{billTotal[0].Ret_TotalAmount | Currency:'4'}}
                                                                    </td>
                                                                    <td style="text-align:left; font-size:11px;">{{billTotal[0].Net_TotalAmount | Currency:'4'}}
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="wrapper" style="border-bottom: 1px solid ;margin-top: 10px;" *ngIf="isPhrmListAvailable">
                                                        <span class="text-uppercase text-bold txt-label">Pharmacy&nbsp;:&nbsp;</span>
                                                        <table class="table table-striped table-hover" style="width: 100%;">
                                                            <thead>
                                                                <tr>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>S.N.</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Invoice No.</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Medicine Name</strong>
                                                                    </th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Batch/Expiry</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Sales Quantity</strong>
                                                                    </th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Sales Amount</strong></th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Return Amount</strong>
                                                                    </th>
                                                                    <th border="1" align="left" style="font-size:12px;"><strong>Net Amount</strong></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let row of pharmacyList; let i=index;">
                                                                    <td style="text-align:left; font-size:11px;">{{i+1}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.InvoiceNo}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.GenericName}} ({{row.ItemName}})
                                                                    </td>
                                                                    <td style="text-align:left; font-size:11px;">
                                                                        {{row.BatchNo}}|{{row.ExpiryDate |DanpheDateTime:'format':'YYYY-MM'}}
                                                                    </td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.SalesQuantity}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.SalesAmount}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.ReturnAmount}}</td>
                                                                    <td style="text-align:left; font-size:11px;">{{row.NetAmount}}</td>
                                                                </tr>
                                                                <tr>
                                                                    <td style="text-align:left; font-size:11px;"></td>
                                                                    <td style="text-align:left; font-size:11px;"></td>
                                                                    <td style="text-align:left; font-size:11px;"></td>
                                                                    <td style="text-align:left; font-size:11px;"></td>
                                                                    <td style="text-align:left; font-size:11px;"><span class="text-uppercase text-bold txt-label">Pharmacy Total</span></td>
                                                                    <td style="text-align:left; font-size:11px;">{{phrmTotal[0].SalesAmount | Currency:'4'}}
                                                                    </td>
                                                                    <td style="text-align:left; font-size:11px;">{{phrmTotal[0].ReturnAmount | Currency:'4'}}
                                                                    </td>
                                                                    <td style="text-align:left; font-size:11px;">{{phrmTotal[0].NetAmount | Currency:'4'}}
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <div class="col-md-6" style="text-align: left;">
                                                            <!-- <span class="txt-label"> Printed By: {{printedBy}}</span> <br />
                                <span class="txt-label"> Printed On: {{printedOn}}
                                  ({{printedOn | nepaliDate:'format':'YYYY-MM-DD'}} BS)</span>
   -->
                                                        </div>
                                                        <div class="col-md-6" style="text-align: right;">
                                                            <div style="font-size: 14px;">
                                                                Grand Total: <span style="font-weight: bold;"> {{grandTotal}} </span>
                                                            </div>
                                                            <div>
                                                                In Words:
                                                                <span style="text-transform: capitalize;">
                                  {{grandTotal| NumberInWords}} only.
                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div style="text-align: center;margin-top: 10px;">
                            <button type="button" id="btnPrintInvoice" class="btn green btn-success" (click)="print()">
                Print
              </button>
                        </div>
                    </div>
                </div>
                <div class="close-modelbox">
                    <button class="btn btn-danger" (click)="closeClaimPopup()">X</button>
                </div>
            </div>
        </div>
    </div>
</div>
<app-print-page *ngIf="showPrint" [print-data]="printDetails"></app-print-page>